<svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="456px" preserveAspectRatio="none" style="width:1433px;height:456px;background:#FFFFFF;" version="1.1" viewBox="0 0 1433 456" width="1433px" zoomAndPan="magnify"><defs><filter height="300%" id="fbrl8zfots1vq" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><rect fill="#FFFFFF" filter="url(#fbrl8zfots1vq)" height="234.4844" style="stroke:#A80036;stroke-width:1.0;" width="10" x="15.5" y="119.7988"></rect><rect fill="#FFFFFF" filter="url(#fbrl8zfots1vq)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="751" y="178.4199"></rect><rect fill="#FFFFFF" filter="url(#fbrl8zfots1vq)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1402" y="295.6621"></rect><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="20" x2="20" y1="88.4883" y2="372.2832"></line><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="630.5" x2="630.5" y1="88.4883" y2="372.2832"></line><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="755.5" x2="755.5" y1="88.4883" y2="372.2832"></line><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="865.5" x2="865.5" y1="88.4883" y2="372.2832"></line><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="971.5" x2="971.5" y1="88.4883" y2="372.2832"></line><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1122" x2="1122" y1="88.4883" y2="372.2832"></line><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1407" x2="1407" y1="88.4883" y2="372.2832"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25" x="5" y="85.5352">Dev</text><ellipse cx="20.5" cy="15" fill="#FEFECE" filter="url(#fbrl8zfots1vq)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"></ellipse><path d="M20.5,23 L20.5,50 M7.5,31 L33.5,31 M20.5,50 L7.5,65 M20.5,50 L33.5,65 " fill="none" filter="url(#fbrl8zfots1vq)" style="stroke:#A80036;stroke-width:2.0;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25" x="5" y="384.8184">Dev</text><ellipse cx="20.5" cy="397.7715" fill="#FEFECE" filter="url(#fbrl8zfots1vq)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"></ellipse><path d="M20.5,405.7715 L20.5,432.7715 M7.5,413.7715 L33.5,413.7715 M20.5,432.7715 L7.5,447.7715 M20.5,432.7715 L33.5,447.7715 " fill="none" filter="url(#fbrl8zfots1vq)" style="stroke:#A80036;stroke-width:2.0;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="579.5" y="85.5352">MiniApp Repo</text><ellipse cx="630.5" cy="56" fill="#FEFECE" filter="url(#fbrl8zfots1vq)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"></ellipse><line style="stroke:#A80036;stroke-width:2.0;" x1="618.5" x2="642.5" y1="70" y2="70"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="579.5" y="384.8184">MiniApp Repo</text><ellipse cx="630.5" cy="403.7715" fill="#FEFECE" filter="url(#fbrl8zfots1vq)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"></ellipse><line style="stroke:#A80036;stroke-width:2.0;" x1="618.5" x2="642.5" y1="417.7715" y2="417.7715"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="691.5" y="85.5352">docs generator cli</text><ellipse cx="756" cy="56" fill="#FEFECE" filter="url(#fbrl8zfots1vq)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"></ellipse><line style="stroke:#A80036;stroke-width:2.0;" x1="744" x2="768" y1="70" y2="70"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="691.5" y="384.8184">docs generator cli</text><ellipse cx="756" cy="403.7715" fill="#FEFECE" filter="url(#fbrl8zfots1vq)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"></ellipse><line style="stroke:#A80036;stroke-width:2.0;" x1="744" x2="768" y1="417.7715" y2="417.7715"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="830.5" y="85.5352">docs web</text><ellipse cx="865.5" cy="56" fill="#FEFECE" filter="url(#fbrl8zfots1vq)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"></ellipse><line style="stroke:#A80036;stroke-width:2.0;" x1="853.5" x2="877.5" y1="70" y2="70"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="830.5" y="384.8184">docs web</text><ellipse cx="865.5" cy="403.7715" fill="#FEFECE" filter="url(#fbrl8zfots1vq)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"></ellipse><line style="stroke:#A80036;stroke-width:2.0;" x1="853.5" x2="877.5" y1="417.7715" y2="417.7715"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="910.5" y="85.5352">new interface file</text><ellipse cx="972" cy="56" fill="#FEFECE" filter="url(#fbrl8zfots1vq)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"></ellipse><line style="stroke:#A80036;stroke-width:2.0;" x1="960" x2="984" y1="70" y2="70"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="910.5" y="384.8184">new interface file</text><ellipse cx="972" cy="403.7715" fill="#FEFECE" filter="url(#fbrl8zfots1vq)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"></ellipse><line style="stroke:#A80036;stroke-width:2.0;" x1="960" x2="984" y1="417.7715" y2="417.7715"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="1086" y="85.5352">tini-types</text><ellipse cx="1122" cy="56" fill="#FEFECE" filter="url(#fbrl8zfots1vq)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"></ellipse><line style="stroke:#A80036;stroke-width:2.0;" x1="1110" x2="1134" y1="70" y2="70"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="1086" y="384.8184">tini-types</text><ellipse cx="1122" cy="403.7715" fill="#FEFECE" filter="url(#fbrl8zfots1vq)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"></ellipse><line style="stroke:#A80036;stroke-width:2.0;" x1="1110" x2="1134" y1="417.7715" y2="417.7715"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="14" x="1397" y="85.5352">CI</text><ellipse cx="1407" cy="56" fill="#FEFECE" filter="url(#fbrl8zfots1vq)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"></ellipse><line style="stroke:#A80036;stroke-width:2.0;" x1="1395" x2="1419" y1="70" y2="70"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="14" x="1397" y="384.8184">CI</text><ellipse cx="1407" cy="403.7715" fill="#FEFECE" filter="url(#fbrl8zfots1vq)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"></ellipse><line style="stroke:#A80036;stroke-width:2.0;" x1="1395" x2="1419" y1="417.7715" y2="417.7715"></line><rect fill="#FFFFFF" filter="url(#fbrl8zfots1vq)" height="234.4844" style="stroke:#A80036;stroke-width:1.0;" width="10" x="15.5" y="119.7988"></rect><rect fill="#FFFFFF" filter="url(#fbrl8zfots1vq)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="751" y="178.4199"></rect><rect fill="#FFFFFF" filter="url(#fbrl8zfots1vq)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1402" y="295.6621"></rect><polygon fill="#A80036" points="618.5,115.7988,628.5,119.7988,618.5,123.7988,622.5,119.7988" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.0;" x1="25.5" x2="624.5" y1="119.7988" y2="119.7988"></line><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="32.5" y="115.0566">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="573" x="45.5" y="115.0566">declare new interface in .ts file(not .d.ts) with the given format in folder src/jsapi-interface</text><polygon fill="#A80036" points="618.5,145.1094,628.5,149.1094,618.5,153.1094,622.5,149.1094" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.0;" x1="25.5" x2="624.5" y1="149.1094" y2="149.1094"></line><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="32.5" y="144.3672">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="253" x="45.5" y="144.3672">implement the new interface to core/ fw</text><polygon fill="#A80036" points="739,174.4199,749,178.4199,739,182.4199,743,178.4199" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.0;" x1="25.5" x2="745" y1="178.4199" y2="178.4199"></line><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="32.5" y="173.6777">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="434" x="45.5" y="173.6777">run command generate doc md file and declaration file for tini-types</text><polygon fill="#A80036" points="1110,203.7305,1120,207.7305,1110,211.7305,1114,207.7305" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.0;" x1="756" x2="1116" y1="207.7305" y2="207.7305"></line><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="763" y="202.9883">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="324" x="776" y="202.9883">create new declaration file d.ts and md file for docs</text><polygon fill="#A80036" points="853.5,233.041,863.5,237.041,853.5,241.041,857.5,237.041" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.0;" x1="25.5" x2="859.5" y1="237.041" y2="237.041"></line><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="32.5" y="232.2988">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="361" x="45.5" y="232.2988">manual copy the generated .md file to tiki-miniapp-docs</text><polygon fill="#A80036" points="618.5,262.3516,628.5,266.3516,618.5,270.3516,622.5,266.3516" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.0;" x1="25.5" x2="624.5" y1="266.3516" y2="266.3516"></line><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="32.5" y="261.6094">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="45.5" y="261.6094">create PR</text><polygon fill="#A80036" points="1133,291.6621,1123,295.6621,1133,299.6621,1129,295.6621" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.0;" x1="1127" x2="1401" y1="295.6621" y2="295.6621"></line><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1139" y="290.9199">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248" x="1152" y="290.9199">auto commit new d.ts files to tini types</text><line style="stroke:#A80036;stroke-width:2.0;" x1="871.5" x2="881.5" y1="319.9727" y2="329.9727"></line><line style="stroke:#A80036;stroke-width:2.0;" x1="871.5" x2="881.5" y1="329.9727" y2="319.9727"></line><line style="stroke:#A80036;stroke-width:1.0;" x1="877.5" x2="1406" y1="324.9727" y2="324.9727"></line><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="882.5" y="320.2305">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="363" x="895.5" y="320.2305">auto commit new md file[not implemented yet, reviewing]</text><polygon fill="#A80036" points="618.5,350.2832,628.5,354.2832,618.5,358.2832,622.5,354.2832" style="stroke:#A80036;stroke-width:1.0;"></polygon><line style="stroke:#A80036;stroke-width:1.0;" x1="20.5" x2="624.5" y1="354.2832" y2="354.2832"></line><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="27.5" y="349.541">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="40.5" y="349.541">merge</text><!--MD5=[b27cc2a2799c5a82eef81dae954bcc12]
@startuml New flow for implementing new JSAPI
'!includeurl https://cdn.jsdelivr.net/gh/HSLdevcom/hsl-plantuml-theme/hsl-theme.iuml
autonumber
 
actor "Dev" as Dev 
entity "MiniApp Repo" as MiniAppRepo 
entity "docs generator cli" as DocGenCLi
entity "docs web" as DocPage
entity "new interface file" as InterfaceFile
entity "tini-types" as TiniTypes
entity "CI" as CI
 



Dev -> MiniAppRepo: declare new interface in .ts file(not .d.ts) with the given format in folder src/jsapi-interface 
activate Dev 
Dev -> MiniAppRepo: implement the new interface to core/ fw
Dev -> DocGenCLi: run command generate doc md file and declaration file for tini-types
activate DocGenCLi
DocGenCLi -> TiniTypes: create new declaration file d.ts and md file for docs
deactivate DocGenCLi
Dev -> DocPage: manual copy the generated .md file to tiki-miniapp-docs
Dev -> MiniAppRepo: create PR
CI -> TiniTypes:auto commit new d.ts files to tini types
activate CI
CI ->x DocPage: auto commit new md file[not implemented yet, reviewing]
deactivate CI
Dev -> MiniAppRepo: merge
deactivate Dev
@enduml

@startuml New flow for implementing new JSAPI
autonumber
 
actor "Dev" as Dev 
entity "MiniApp Repo" as MiniAppRepo 
entity "docs generator cli" as DocGenCLi
entity "docs web" as DocPage
entity "new interface file" as InterfaceFile
entity "tini-types" as TiniTypes
entity "CI" as CI
 



Dev -> MiniAppRepo: declare new interface in .ts file(not .d.ts) with the given format in folder src/jsapi-interface 
activate Dev 
Dev -> MiniAppRepo: implement the new interface to core/ fw
Dev -> DocGenCLi: run command generate doc md file and declaration file for tini-types
activate DocGenCLi
DocGenCLi -> TiniTypes: create new declaration file d.ts and md file for docs
deactivate DocGenCLi
Dev -> DocPage: manual copy the generated .md file to tiki-miniapp-docs
Dev -> MiniAppRepo: create PR
CI -> TiniTypes:auto commit new d.ts files to tini types
activate CI
CI ->x DocPage: auto commit new md file[not implemented yet, reviewing]
deactivate CI
Dev -> MiniAppRepo: merge
deactivate Dev
@enduml

PlantUML version 1.2021.12(Tue Oct 05 23:01:58 ICT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>